{"version":3,"file":"angularfire2.js","sourceRoot":"","sources":["../src/angularfire2.ts"],"names":[],"mappings":"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","sourcesContent":["import * as firebase from 'firebase';\nimport * as utils from './utils';\nimport { FirebaseAppConfig } from './interfaces';\nimport { AuthConfiguration } from './auth';\nimport {\n  FirebaseListFactoryOpts,\n  FirebaseObjectFactoryOpts,\n} from './interfaces';\nimport {\n  FirebaseConfig,\n  FirebaseApp,\n  WindowLocation,\n  FirebaseUserConfig,\n  FirebaseAuthConfig,\n  FirebaseAppName\n} from './tokens';\nimport {\n  APP_INITIALIZER,\n  Inject,\n  Injectable,\n  OpaqueToken,\n  NgModule,\n  ModuleWithProviders\n} from '@angular/core';\nimport {\n  FirebaseSdkAuthBackend,\n  AngularFireAuth,\n  firebaseAuthConfig,\n  AuthBackend,\n  AuthMethods,\n  AuthProviders,\n  FirebaseAuthState\n} from './auth/index';\nimport {\n  FirebaseListObservable,\n  FirebaseObjectObservable,\n  FirebaseListFactory,\n  FirebaseObjectFactory,\n  AngularFireDatabase\n} from './database/index';\n\n@Injectable()\nexport class AngularFire {\n  constructor(\n    @Inject(FirebaseConfig) private firebaseConfig:FirebaseAppConfig,\n    public auth: AngularFireAuth,\n    public database: AngularFireDatabase) {}\n}\n\nexport function _getFirebase(config: FirebaseAppConfig, appName?: string): firebase.app.App {\n  try {\n    if (appName) {\n      return firebase.initializeApp(config, appName);\n    } else {\n      return firebase.initializeApp(config);\n    }\n  }\n  catch (e) {\n    return firebase.app(null);\n  }\n}\n\nexport function _getWindowLocation(){\n  return window.location;\n}\n\nexport function _getAuthBackend(app: firebase.app.App): FirebaseSdkAuthBackend {\n  return new FirebaseSdkAuthBackend(app);\n}\n\nexport function _getDefaultFirebase(config){\n  // remove a trailing slash from the Database URL if it exists\n  config.databaseURL = utils.stripTrailingSlash(config.databaseURL);\n  return config;\n}\n\nexport const COMMON_PROVIDERS: any[] = [\n  {\n    provide: FirebaseApp,\n    useFactory: _getFirebase,\n    deps: [FirebaseConfig, FirebaseAppName]\n  },\n  AngularFireAuth,\n  AngularFire,\n  AngularFireDatabase\n];\n\nexport const FIREBASE_PROVIDERS:any[] = [\n  COMMON_PROVIDERS,\n  {\n    provide: AuthBackend,\n    useFactory: _getAuthBackend,\n    deps: [FirebaseApp]\n  },\n  {\n    provide: WindowLocation,\n    useFactory: _getWindowLocation\n  },\n];\n\n/**\n * Used to define the default Firebase root location to be\n * used throughout an application.\n */\nexport const defaultFirebase = (config: FirebaseAppConfig): any => {\n  return [\n    { provide: FirebaseUserConfig, useValue: config },\n    { provide: FirebaseConfig, useFactory: _getDefaultFirebase, deps: [FirebaseUserConfig] }\n  ]\n};\n\n@NgModule({\n  providers: FIREBASE_PROVIDERS\n})\nexport class AngularFireModule {\n  static initializeApp(config: FirebaseAppConfig, authConfig?: AuthConfiguration, appName?: string): ModuleWithProviders {\n    return {\n      ngModule: AngularFireModule,\n      providers: [\n        { provide: FirebaseUserConfig, useValue: config },\n        { provide: FirebaseConfig, useFactory: _getDefaultFirebase, deps: [FirebaseUserConfig] },\n        { provide: FirebaseAuthConfig, useValue: authConfig },\n        { provide: FirebaseAppName, useValue: appName }\n      ]\n    }\n  }\n}\n\nexport {\n  AngularFireAuth,\n  AngularFireDatabase,\n  FirebaseListObservable,\n  FirebaseObjectObservable,\n  FirebaseListFactory,\n  FirebaseObjectFactory,\n  firebaseAuthConfig,\n  FirebaseAuthState,\n  AuthMethods,\n  AuthProviders,\n  WindowLocation\n}\n\nexport { FirebaseConfig, FirebaseApp, FirebaseAuthConfig, FirebaseRef, FirebaseUrl, FirebaseUserConfig } from './tokens';\nexport { FirebaseAppConfig } from './interfaces';\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}